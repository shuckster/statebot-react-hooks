/*
 * Statebot React Hooks
 * v1.0.1
 * https://shuckster.github.io/statebot/
 * License: ISC
 */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("react"),e=require("statebot");function o(e){const[o,n]=t.useState(e.currentState());return t.useEffect(()=>{let t=!1;const o=e.onSwitched(e=>{t||n(e)});return()=>{t=!0,o()}},[e]),o}exports.useStatebot=o,exports.useStatebotEvent=function(e,o,n,r){t.useEffect(()=>{let t=!1;const s="function"==typeof r?[n,function(...e){t||r(...e)}]:[function(...e){t||n(...e)}],u=e[o](...s);return()=>{t=!0,u()}},[e,o,n,r])},exports.useStatebotFactory=function(n,r){const s=t.useMemo(()=>r,[n]),u=[];t.useEffect(()=>()=>u.forEach(t=>t()),[s]);const c=t.useMemo(()=>{const{performTransitions:t,onTransitions:o,...r}=s||{},c=e.Statebot(n,r);return u.push(c.performTransitions(t||{}),c.onTransitions(o||{})),c},[n,s]);return{state:o(c),bot:c}};
