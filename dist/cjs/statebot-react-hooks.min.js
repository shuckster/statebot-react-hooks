/*
 * Statebot React Hooks
 * v1.0.1
 * https://shuckster.github.io/statebot/
 * License: ISC
 */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("react"),e=require("statebot");function n(e){const[n,o]=t.useState(e.currentState());return t.useEffect(()=>e.onSwitched(o),[e]),n}exports.useStatebot=n,exports.useStatebotEvent=function(e,n,...o){const r=[];t.useEffect(()=>()=>r.forEach(t=>t()),[e,n]),t.useEffect(()=>{if(!["onSwitching","onSwitched","onEntering","onEntered","onExiting","onExited"].includes(n))throw new Error("Unknown event: "+n);r.push(e[n](...o))},[e,n])},exports.useStatebotFactory=function(o,r){const s=t.useMemo(()=>r,[o]),i=[];t.useEffect(()=>()=>i.forEach(t=>t()),[s]);const u=t.useMemo(()=>{const{performTransitions:t,onTransitions:n,...r}=s||{},u=e.Statebot(o,r);return i.push(u.performTransitions(t||{}),u.onTransitions(n||{})),u},[o,s]);return{state:n(u),bot:u}};
